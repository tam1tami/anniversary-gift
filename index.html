<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>4. Výročie</title>
   <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&display=swap" rel="stylesheet">
 
</head>
<body>
   
<button onclick="startAnniversaryCounter()">Happy anniversary!!</button>

  <div id="counterBox">
    ľúbim ťa už...
  </div>




  <script>
    // ==== TU SI TO NASTAVÍŠ V KÓDE ====
    const anniversaryDate = new Date("2021-11-25T00:00:00"); // dátum kedy ste začali
    const animationDuration = 3000; // ako dlho má trvať animácia (ms)

    // premenne pre výsledky
    let finalSeconds, finalMinutes, finalHours, finalDays, finalMonths, finalYears;

    const now = new Date();
    const diff = now - anniversaryDate;

    finalSeconds = Math.floor(diff / 1000);
    finalMinutes = Math.floor(finalSeconds / 60);
    finalHours   = Math.floor(finalMinutes / 60);
    finalDays    = Math.floor(finalHours / 24);
    finalYears   = Math.floor(finalDays / 365.25);
    finalMonths  = Math.floor(finalDays / 30.44);

    // element
    const display = document.getElementById("counterBox");

    function easeOutQuad(t) {
      return t * (2 - t);
    }

    function animateValue(start, end, step, progress) {
      let val = Math.floor((end - start) * progress + start);
      val = Math.floor(val / step) * step;
      if (val > end) val = end;
      return val;
    }

    function startAnniversaryCounter() {
      let startTime = null;
      const start = 0;

      function update(time) {
        if (!startTime) startTime = time;
        const rawProgress = Math.min((time - startTime) / animationDuration, 1);
        const progress = easeOutQuad(rawProgress);

        const s = animateValue(start, finalSeconds, 1, progress);
        const m = animateValue(start, finalMinutes, 1, progress);
        const h = animateValue(start, finalHours, 1, progress);
        const d = animateValue(start, finalDays, 1, progress);
        const mo = animateValue(start, finalMonths, 1, progress);
        const y = animateValue(start, finalYears, 1, progress);

        display.innerHTML = `
           ľúbim ťa už...<br>
           ${y} roky<br>
           ${mo} mesiacov<br>
          ${d} dní<br>
          ${h} hodín<br>
          ${m} minút<br>
           ${s} sekúnd
        `;

        if (rawProgress < 1) {
          requestAnimationFrame(update);
        }
      }

      requestAnimationFrame(update);
    }
  </script>

</body>
</html>